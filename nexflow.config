params {
csv = null
debug = false
outdir = "results"

//we make links for bwa index

//we declare bwa variables
aligner="bwa-mem2"
alt_js="bwa-postalt.js"
alt=false
hla=true
ref="NO_FILE"

//we declare elprep variables
dbsnp="NO_FILE"
dbindel="NO_FILE"
elpre_ref="NO_FILE"

//we declare strelka variables
//STRELKA_INSTALL_PATH = "/mnt/beegfs/home/mmunoz/DiGenomaLab/HRR/gene_focus_analisis/strelka-2.9.10.centos6_x86_64"
//REFERENCE_FASTA = "/home/adigenova/DiGenomaLab/databases/references/human"
//BRCA_POSITION = "/mnt/beegfs/labs/DiGenomaLab/HRR/gene_focus_analisis"

/*
//we declare annovar variables
ANNOVAR_DB = "/mnt/beegfs/home/adigenova/DiGenomaLab/databases/annovar/"
ANNOVAR_CODE = "/mnt/beegfs/labs/DiGenomaLab/databases/annovar/annovar/"
*/
}

/*
process {
    withName: 'PRINT_VERSIONS()'{
	cpus = 1
	memory = '1 GB'
   }
    withName: 'FASTQC' {
        cpus = 2
	memory = '15 GB'
    }
    withName: 'BWAMEM' {
        cpus = 4
	memory = '8 GB'
    }

  withName: 'MERGEB' {
        cpus = 4
        memory = '10 GB'
    }

    withName: 'ELPREP' {
        cpus = 4
        memory = '4 GB'
    }
    withName: 'QUALIMAP' {
        cpus = 4
	memory = '4 GB'
    }
    withName: 'B2C' {
        cpus = 4
	 memory = '4 GB'
    }
    withName: 'STRELKA_ONESAMPLE'{
	cpus = 1
	memory = '4 GB'
    }
    withName: 'STRELKA_POOL'{
	cpus = 2
	memory = '4 GB'
    }


    withName: 'ANNOVAR'{
	cpus = 2
        memory = '1 GB'
    }

}

*/

profiles {

kutral {
        singularity.enabled    = true
        singularity.autoMounts = true
        docker.enabled         = false
        podman.enabled         = false
        shifter.enabled        = false
        charliecloud.enabled   = false
	process.executor = 'slurm'
	process.queue = 'uohhm'
    }
    uoh {
        process {
            executor = "slurm"
            queue = 'uohhm'

        }
    }

    conda {
        process.conda = '$baseDir/conda.yml'
    }
}

def trace_timestamp = new java.util.Date().format( 'yyyy-MM-dd_HH-mm-ss')
timeline {
    enabled = true
    file    = "${params.outdir}/pipeline_info/execution_timeline_${trace_timestamp}.html"
}
report {
    enabled = true
    file    = "${params.outdir}/pipeline_info/execution_report_${trace_timestamp}.html"
}
trace {
    enabled = true
    file    = "${params.outdir}/pipeline_info/execution_trace_${trace_timestamp}.txt"
}
dag {
    enabled = true
    file    = "${params.outdir}/pipeline_info/pipeline_dag_${trace_timestamp}.html"
}


manifest {
    defaultBranch = 'main'
    homePage = 'https://github.com/digenoma-lab/BRCA'
    author = 'Manuel Mu√±oz'
    version = '0.1'
}
